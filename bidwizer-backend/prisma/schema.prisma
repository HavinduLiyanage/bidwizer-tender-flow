// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int    @id @default(autoincrement())
  name     String
  email    String @unique
  password String
  role     String // "publisher" or "bidder"
  status   String // "active" or "pending"
  tenders  Tender[]
}

model Tender {
  id                      Int      @id @default(autoincrement())
  publisherId             Int
  title                   String
  description             String?
  deadline                DateTime
  filePath                String?
  advertisementImagePath  String?
  tenderText              String?
  status                  String
  value                   String?
  category                String?
  preBidMeetingDate       DateTime?
  preBidMeetingTime       String?
  region                  String?
  contactPersonName       String?
  contactNumber           String?
  contactEmail            String?
  companyWebsite          String?
  requirements            String?
  publisher               User     @relation(fields: [publisherId], references: [id])
}
